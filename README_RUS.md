# Internship UI Automation Framework

## What is testing framework

Фрейворк в тестировании - это некий слой абстракции, который оборачивает в необходимом удобоворимом для пользователя виде несколько 
библиотек, необходимых для написания и поддерживания необходимого скоупа тест-кейсов

Web UI Testing фреймворк должен содержать:

1. Абстракция — архитектура — объектная модель страницы — см. [Объектная модель страницы (POM) и фабрика страниц в учебном пособии по Selenium] (https://www.guru99.com/page-object-model-pom-page-factory-in-selenium- Ultimate-guide.html), классы провайдеров драйверов и так далее...
2. Настраиваемость — возможность запускать различные тесты с необходимыми настройками из командной строки (важно для запуска тестов в CI 
   tool)
3. Механизм логирования - удобный способ записи в консоль и лог-файлы того, что на самом деле происходило во время выполнения теста
4. Инструмент для составления отчетности — способ представления результатов тестирования пользователю.
5. Утилиты - например. поставщики тестовых данных (например, из файлов .json), различные интеграции со сторонними системами, такими как Jira, Allure, ...
6. Тестовая среда (движок для запуска и управления тестами) — например. JUnit или TestNG
7. BDD (Behavior driver layer) необязательный и применим в данном случае, тк такое будет ТЗ - JBehave (поставляется с JUnit) - возможность 
   писать тесты с синтаксисом языка Gherkin в виде простого текста - см. [JBehave Tutorials] (https://jbehave.org/reference/stable/tutorials). .html)
8. Возможность взаимодействия с тестируемым приложением - в нашем случае Браузер - используется Selenium

В этом наборе задач вы получите различные задания, которые помогут вам создать инфраструктуру тестирования пользовательского интерфейса с 
нуля, используя различные зависимости, уже прописанные в проекте.

Задачи описаны в папке `tasks`. Рекомендуется выполнять по очереди.

## Running tests

1. Команда ***Maven clean test*** в терминале
   - Параметры теста можно найти и изменить в теге свойств в верхней части файла **pom.xml**.
   - В тестах можно использовать только браузеры chrome и firefox
   - С помощью этого метода можно протестировать только классы, имена которых заканчиваются на **Suite**; имя класса должно быть определено в свойстве *runSuite* (например, **/TestSuite.class)

   **предупреждение**: эта команда работает, только если `maven --version` показывает версию java как 1.8 или аналогичную. Если это что-то вроде 13 или 15, то некоторые методы не запустятся, и все тесты не пройдут.

2. ***Конфигурация Maven*** в IDE
   1. Создайте конфигурацию maven с понятным именем.
   2. Поместите `-e clean test` в командную строку конфигурации maven; это запустит тест со значениями командной строки по умолчанию из 
      файла **pom.xml**

   - Если вы хотите изменить определенные свойства, добавьте `-DpropertyName=propertyValue` в командной строке, в зависимости от того, какое свойство вы хотите изменить.
   - Пример командной строки: `-e clean test -Dbrowser.name=Chrome -DrunSuite=**/CreateAccountTestsSuite.class`

**Notes**:

- Если вы хотите протестировать определенные классы в своем Suite, добавьте их в параметр аннотации @SelectClasses.
- LoginTest и SearchTest используют определенные параметры командной строки, поэтому их изменение может привести к сбою тестов.
- CreateAccountAndLoginTest охватывает только положительный тестовый пример, и его параметры можно свободно изменять.
- CreateAccountTest считывает свои параметры из файла **accounts.json**, который находится в папке ресурсов. Первый тест использует определенные значения параметров, а второй создает случайное электронное письмо на основе домена, найденного в файле JSON.

## Использованные технологии

1. Selenium для подключения и взаимодействия с браузером(webDriver instance)

2. Архитектура:

   - WebDriverFactory - Удобный класс, который оборачивает Selenium (см. https://www.selenium.dev/documentation/en/introduction/on_test_automation/) WebDriver и предоставляет его шагам и страницам

   - WebDriverManager - io.github.bonigarcia для динамической загрузки файлов WebDriver .exe (см. https://github.com/bonigarcia/webdrivermanager)

   - PageObjectModel - Зависимость, которая позволяет нам определять наши тестовые страницы, компоненты, модальные окна из тестируемого приложения как интерфейсы и многое другое - io.qameta.htmlelements

   - Классы TestStep - каждый шаг теста определяется в отдельном классе шагов теста.

   - BDD, JBehave - см. https://objectcomputing.com/resources/publications/sett/may-2015-behavioral-driven-design-bdd-with-jbehave.

3. Конфигурируемость — org.aeonbits.owner — см. http://owner.aeonbits.org/docs/welcome/

4. Ведение журнала — log4j — см. https://logging.apache.org/log4j/2.x/

5. Утверждения — из JUnit и org.assertj — см. https://assertj.github.io/doc/

6. Отчетность — собственный репортер JBehave — опциональная реализация отчетов о тестировании
